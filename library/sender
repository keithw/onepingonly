#!/usr/bin/python

from au_defs import *

import au_send
import pyaudio

# Open soundcard
p = pyaudio.PyAudio()
soundcard_out = p.open(format = FORMAT,
                       channels = 1,
                       rate = SAMPLES_PER_SECOND,
                       input = False,
                       output = True,
                       frames_per_buffer = 4096 )

VOLTAGES = [1, -1]
VOLTAGE_LENGTH = 1024

samples = []

for voltage in VOLTAGES:
    for i in range( VOLTAGE_LENGTH ):
        samples.append( voltage )

while True:
    au_send.send( samples, soundcard_out, 4096 )
